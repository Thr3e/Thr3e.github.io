(function(t){function e(e){for(var i,o,c=e[0],r=e[1],l=e[2],u=0,d=[];u<c.length;u++)o=c[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,c=1;c<a.length;c++){var r=a[c];0!==n[r]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},n={app:0},s=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var p=r;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"0471":function(t,e,a){},"23f4":function(t,e,a){t.exports=a.p+"img/kafei.69a5e247.png"},2631:function(t,e,a){},"2a62a":function(t,e,a){},"35e8":function(t,e,a){t.exports=a.p+"img/yaopin.c37dc8b6.png"},"3c15":function(t,e,a){t.exports=a.p+"img/jidan.f9610075.png"},"40c7":function(t,e,a){t.exports=a.p+"img/huoguo.c69f0cc2.png"},"4f8f":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Banner"),a("MainView")],1)},s=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main-content"}},[a("div",{staticClass:"left-rect flex-rect"},[a("LeftMenu",{on:{getCData:t.getCData}})],1),a("div",{staticClass:"image-rect flex-rect"},[a("ImageView",{attrs:{"add-data":t.addData}})],1),a("div",{staticClass:"right-rect flex-rect"},[a("RightOperator",{attrs:{etype:"文字"}})],1)])},c=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"left-menu"}},[a("ul",{staticClass:"main-list"},t._l(t.operations,(function(e,i){return a("li",{key:i,staticClass:"main-item",class:{active:e.isActive},on:{click:function(a){return t.mainBtnClick(e)}}},[a("div",{staticClass:"active-rect"}),a("i",{staticClass:"iconfont icon",class:e.icon}),a("p",{staticClass:"operation-label"},[t._v(t._s(e.label))])])})),0),a("div",{staticClass:"collapse-box"},[a("Collapse",t._g(t._b({attrs:{collapsed:t.isCollapse,"req-type":t.selectType}},"Collapse",t.$attrs,!1),t.$listeners))],1)])},l=[],p=(a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"collapse"}},[a("div",{staticClass:"collapse-container",class:{collapse:t.$store.state.leftCollapse}},[t.btnData&&t.btnData.length>0?a("div",{staticClass:"btn-list"},[a("ul",{staticClass:"btn-ul"},t._l(t.btnData,(function(e,i){return a("li",{key:"button-"+i,staticClass:"btn-item",on:{click:function(a){return t.btnClick(e)}}},[a("i",{staticClass:"btn-icon iconfont"},[t._v(t._s(e.icon))]),a("span",{staticClass:"btn-label"},[t._v(t._s(e.label))])])})),0)]):t._e(),a("div",{staticClass:"tab-list"},[a("div",{staticClass:"tab-btns"},[a("div",{staticClass:"tab-btn",class:{active:0===t.activeTab},on:{click:function(e){return t.tabBtnClick(0)}}},[t._v("热门")]),a("div",{staticClass:"tab-btn",class:{active:1===t.activeTab},on:{click:function(e){return t.tabBtnClick(1)}}},[t._v("最近使用")]),a("div",{staticClass:"tab-btn",class:{active:2===t.activeTab},on:{click:function(e){return t.tabBtnClick(2)}}},[t._v("收藏")])]),a("div",{staticClass:"tab-data-list"},[t.tabData&&t.tabData.length>0?t._l(t.tabData,(function(e,i){return a("div",{key:"entry-"+i,staticClass:"data-entry"},[a("p",{staticClass:"entry-title"},[t._v(t._s(e.label))]),a("span",{staticClass:"more",on:{click:function(e){return t.clickMore()}}},[t._v("更多"),a("i",{staticClass:"iconfont iconzhankai"})]),a("div",{staticClass:"entry-list"},t._l(e.items,(function(i,n){return a("div",{key:"entry-item-"+n,staticClass:"entry-item",class:e.iconType,attrs:{draggable:"true"},on:{click:function(e){return t.passCData(i.param)},dragstart:function(e){return t.dragstart(e,i)},dragend:t.dragend}},["meta"===i.param.type?a("img",{attrs:{src:i.src}}):"text"===i.param.type?a("span",{style:{fontFamily:i.param.data}},[t._v(t._s(i.param.data))]):"back"===i.param.type?a("p",{staticClass:"back-item",style:{background:i.param.data}}):t._e()])})),0)])})):a("div",{staticClass:"no-data"})],2)])]),a("div",{staticClass:"collpase-btn",on:{click:function(e){return t.coll()}}},[t.$store.state.leftCollapse?a("span",{staticClass:"iconfont iconzhankai"}):a("span",{staticClass:"iconfont iconxuanxiangqiajiantou"})])])}),u=[];function d(t){return"text"===t?m():"meta"===t?f():"back"===t?h():{tabBasicData:{normal:[],recent:[],collection:[]},btnData:[]}}function m(){return{tabBasicData:{normal:[{label:"类型",iconType:"large",items:[{src:a("f7f0"),param:{data:"Monoton",type:"text"}},{src:a("da87"),param:{data:"simhei",type:"text"}},{src:a("3c15"),param:{data:"simkai",type:"text"}}]},{label:"字体2",iconType:"large",items:[{src:a("a5c4"),param:{data:"pang",type:"text"}},{src:a("40c7"),param:{data:"light",type:"text"}},{src:a("8ca3"),param:{data:"cang",type:"text"}}]},{label:"字体3",iconType:"large",items:[{src:a("23f4"),param:{data:"Desolator",type:"text"}},{src:a("88b5"),param:{data:"Monoton",type:"text"}},{src:a("6f96"),param:{data:"simhei",type:"text"}}]},{label:"条目2",iconType:"large",items:[{src:a("a73f"),param:{data:"simkai",type:"text"}},{src:a("ffee"),param:{data:"pang",type:"text"}},{src:a("35e8"),param:{data:"light",type:"text"}}]},{label:"条目3",iconType:"large",items:[{src:a("faa2"),param:{data:"cang",type:"text"}},{src:a("a73f"),param:{data:"simkai",type:"text"}},{src:a("ffee"),param:{data:"pang",type:"text"}}]}],recent:[],collection:[]},btnData:[{label:"添加文字"},{label:"添加正文"}]}}function f(){return{tabBasicData:{normal:[{label:"美食",iconType:"small",items:[{src:a("f7f0"),param:{data:a("f7f0"),type:"meta"}},{src:a("da87"),param:{data:a("da87"),type:"meta"}},{src:a("3c15"),param:{data:a("3c15"),type:"meta"}}]},{label:"餐具",iconType:"small",items:[{src:a("a5c4"),param:{data:a("a5c4"),type:"meta"}},{src:a("40c7"),param:{data:a("40c7"),type:"meta"}},{src:a("8ca3"),param:{data:a("8ca3"),type:"meta"}}]},{label:"条目1",iconType:"small",items:[{src:a("23f4"),param:{data:a("23f4"),type:"meta"}},{src:a("88b5"),param:{data:a("88b5"),type:"meta"}},{src:a("6f96"),param:{data:a("6f96"),type:"meta"}}]},{label:"条目2",iconType:"small",items:[{src:a("a73f"),param:{data:a("a73f"),type:"meta"}},{src:a("ffee"),param:{data:a("ffee"),type:"meta"}},{src:a("35e8"),param:{data:a("35e8"),type:"meta"}}]},{label:"条目3",iconType:"small",items:[{src:a("faa2"),param:{data:a("faa2"),type:"meta"}},{src:a("60e0"),param:{data:a("60e0"),type:"meta"}},{src:a("bf60"),param:{data:a("bf60"),type:"meta"}}]}],recent:[],collection:[]},btnData:[{label:"元素"},{label:"表情包"},{label:"条形形状"},{label:"词云"}]}}function h(){return{tabBasicData:{normal:[{label:"纯色",iconType:"large",items:[{src:a("f7f0"),param:{data:"#333",type:"back"}},{src:a("da87"),param:{data:"#666",type:"back"}},{src:a("3c15"),param:{data:"#999",type:"back"}}]},{label:"纯色2",iconType:"large",items:[{src:a("a5c4"),param:{data:"#f00",type:"back"}},{src:a("40c7"),param:{data:"#0f0",type:"back"}},{src:a("8ca3"),param:{data:"#00f",type:"back"}}]},{label:"条目1",iconType:"large",items:[{src:a("23f4"),param:{data:"#ff0",type:"back"}},{src:a("88b5"),param:{data:"#f0f",type:"back"}},{src:a("6f96"),param:{data:"#0ff",type:"back"}}]},{label:"条目2",iconType:"large",items:[{src:a("a73f"),param:{data:"linear-gradient(#e66465, #9198e5)",type:"back"}},{src:a("ffee"),param:{data:"linear-gradient(to right, red , yellow)",type:"back"}},{src:a("35e8"),param:{data:"linear-gradient(to bottom right, red, yellow)",type:"back"}}]},{label:"条目3",iconType:"large",items:[{src:a("faa2"),param:{data:"linear-gradient(-90deg, red, yellow)",type:"back"}},{src:a("60e0"),param:{data:"linear-gradient(red, yellow, green)",type:"back"}},{src:a("bf60"),param:{data:"linear-gradient(to right, red,orange,yellow,green,blue,indigo,violet)",type:"back"}}]}],recent:[],collection:[]},btnData:[]}}var b={name:"Collapse",props:{reqType:""},data:function(){return{activeTab:0,tabBasicData:{normal:[],recent:[],collection:[]},btnData:[],tabData:[]}},methods:{coll:function(){this.$store.state.leftCollapse?this.$store.commit("openCollapse"):this.$store.commit("closeCollapse")},dragstart:function(t,e){this.$store.commit("closeCollapse"),t.dataTransfer.setData("item",JSON.stringify(e.param))},dragend:function(t){t.dataTransfer.clearData()},btnClick:function(t){},tabBtnClick:function(t){this.activeTab=t;var e=["normal","recent","collection"];this.tabData=this.tabBasicData[e[t]]},clickMore:function(){},queryDataByType:function(t){var e=d(t);this.tabBasicData=e.tabBasicData,this.btnData=e.btnData},passCData:function(t){this.$emit("getCData",t)}},watch:{reqType:function(t){this.queryDataByType(t),this.tabBtnClick(this.activeTab)}},created:function(){this.queryDataByType(this.reqType),this.tabBtnClick(this.activeTab)}},v=b,y=(a("fdbe"),a("2877")),g=Object(y["a"])(v,p,u,!1,null,"ab71667c",null),C=g.exports,x={name:"LeftMenu",components:{Collapse:C},data:function(){return{operations:[{icon:"iconwenzi",label:"特效字",reqType:"text",isActive:!0,click:function(){}},{icon:"iconsucai",label:"素材",reqType:"meta",isActive:!1,click:function(){}},{icon:"icontupian",label:"照片",reqType:"pic",isActive:!1,click:function(){}},{icon:"iconbackground",label:"背景",reqType:"back",isActive:!1,click:function(){}},{icon:"iconmoban",label:"模板",reqType:"modal",isActive:!1,click:function(){}},{icon:"iconshangchuan",label:"上传",reqType:"update",isActive:!1,click:function(){}},{icon:"icontool",label:"工具",reqType:"tool",isActive:!1,click:function(){}},{icon:"iconmoban",label:"特效",reqType:"none",isActive:!1,click:function(){}},{icon:"iconpiliang",label:"批量",reqType:"none",isActive:!1,click:function(){}}],selectType:"text",isCollapse:!1}},methods:{mainBtnClick:function(t){var e=this;this.operations.forEach((function(a){a.label===t.label?(a.isActive=!0,e.selectType=a.reqType):a.isActive=!1})),this.openCollapse()},openCollapse:function(){this.$store.commit("openCollapse")},closeCollapse:function(){this.$store.commit("closeCollapse")}}},k=x,w=(a("9008"),Object(y["a"])(k,r,l,!1,null,"2c450a3e",null)),T=w.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"rootBox",attrs:{id:"image-view"}},[a("div",{ref:"zrenderCanvas",on:{drop:t.drop,dragover:function(t){t.preventDefault()}}}),a("div",{staticClass:"toolbox"},[a("div",{staticClass:"scale-box"},[a("span",{staticClass:"scale-btn",on:{click:function(e){return t.changeScale(-1)}}},[t._v("-")]),a("span",{staticClass:"number"},[t._v(t._s(t.scaleLabel))]),a("span",{staticClass:"scale-btn",on:{click:function(e){return t.changeScale(1)}}},[t._v("+")])]),a("div",{staticClass:"original-btn",on:{click:function(e){return t.setScaleOriginal()}}},[t._v("1:1")]),a("div",{staticClass:"bestscale-btn iconfont iconquanping",on:{click:function(e){return t.setScaleBest()}}})])])},I=[],D=a("3835"),B=(a("b680"),a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{background:t.bgColor},attrs:{id:"poster"}},[a("PosterItem")],1)}),G=[],O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"poster-item",on:{mousedown:function(e){return t.move(e)},mouseover:function(e){return t.showBorder(!0)},mouseout:function(e){return t.showBorder(!1)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isBdShow,expression:"isBdShow"}],staticClass:"border-operators"},[a("div",{staticClass:"item-left-button item-border-btn"}),a("div",{staticClass:"item-right-button item-border-btn"}),a("div",{staticClass:"item-top-button item-border-btn"}),a("div",{staticClass:"item-bottom-button item-border-btn"}),a("div",{staticClass:"item-top-left-corner item-corner-btn"}),a("div",{staticClass:"item-top-right-corner item-corner-btn"}),a("div",{staticClass:"item-bottom-left-corner item-corner-btn"}),a("div",{staticClass:"item-bottom-right-corner item-corner-btn"}),a("div",{staticClass:"item-rotate-button item-func-btn iconfont iconrotate"}),a("div",{staticClass:"item-like-button item-func-btn iconfont iconheart"})]),a("div",{staticClass:"text-area"},[t.readOnly?a("span",{staticClass:"poster-content readonly",on:{dblclick:function(e){return t.enableEdit(!1)}}},[t._v(t._s(t.posterValue))]):a("input",{directives:[{name:"model",rawName:"v-model",value:t.posterValue,expression:"posterValue"}],staticClass:"poster-content",domProps:{value:t.posterValue},on:{blur:function(e){return t.enableEdit(!0)},input:function(e){e.target.composing||(t.posterValue=e.target.value)}}})])])},$=[],S={name:"PosterItem",data:function(){return{posterValue:"双击编辑文字",readOnly:!0,isBdShow:!0}},methods:{move:function(t){console.log(t)},enableEdit:function(t){this.readOnly=t},showBorder:function(t){this.isBdShow=t}}},z=S,L=(a("901b"),Object(y["a"])(z,O,$,!1,null,"72dce49e",null)),P=L.exports,M={name:"Poster",components:{PosterItem:P},data:function(){return{bgColor:"#aaa"}},methods:{setBgColor:function(t){this.bgColor=t}}},F=M,N=(a("d377"),Object(y["a"])(F,B,G,!1,null,"3dea6216",null)),j=N.exports,q=a("95c0"),R=new i["a"],A={name:"ImageView",components:{Poster:j},props:{addData:null},data:function(){return{zr:{},mainGroup:{},scale:.4,original:{width:1920,height:900},activeItem:null,activeType:"",selectItem:null}},computed:{scaleLabel:function(){return(100*this.scale).toFixed(0)+"%"}},methods:{changeScale:function(t){this.scale=parseFloat(this.scale+t*(this.scale>=1?.1:.05))},setScaleOriginal:function(){this.scale=1},setScaleBest:function(){this.scale=.4},drop:function(t){var e={};try{e=JSON.parse(t.dataTransfer.getData("item"))}catch(l){return}var a=t.offsetX,i=t.offsetY,n=Object(D["a"])(this.mainGroup.position,2),s=n[0],o=n[1],c=this.mainGroup.scale[0],r=[(a-s)/c,(i-o)/c];switch(e.type){case"text":this.addTextGroup("请输入文字",160,e.data,r);break;case"meta":this.addImgGroup(e.data,r);break;case"back":this.changeBgColor(e.data);break;default:break}},initZr:function(){var t=this,e=this.$refs.rootBox.offsetWidth,a=this.$refs.rootBox.offsetHeight;this.zr=q["init"](this.$refs.zrenderCanvas,{renderer:"canvas",width:e,height:a}),this.zr.on("mousemove",function(e){if(t.activeItem&&t.activeItem.isMouseDown)switch(t.activeType){case"drag":t.moveItem(e);break;case"scale":t.scaleItem(e);break;case"rotate":t.rotateItem(e);break;default:break}}.bind(this)),this.zr.on("mouseup",function(e){t.activeItem&&(t.activeItem.isMouseDown=!1,t.activeItem.mousePonit=void 0,t.activeItem=null,t.activeType="")}.bind(this)),this.mainGroup=new q["Group"]({position:[(e-this.original.width*this.scale)/2,(a-this.original.height*this.scale)/2],scale:[this.scale,this.scale],original:[e/2,a/2]});var i=new q["Rect"]({name:"bgRect",silent:!0,style:{fill:"#6B2737"},shape:{width:this.original.width,height:this.original.height}});this.mainGroup.add(i),this.zr.add(this.mainGroup)},mainGroupScale:function(t){if(this.mainGroup&&this.mainGroup.attr){var e=this.$refs.rootBox.offsetWidth,a=this.$refs.rootBox.offsetHeight;this.mainGroup.attr({scale:[t,t],position:[(e-this.original.width*t)/2,(a-this.original.height*t)/2]})}},addImgGroup:function(t,e){var a=this,i={width:100,height:100},n=e||[(this.original.width-i.width)/2,(this.original.height-i.height)/2],s=new q["Group"]({position:n,isMouseDown:!1,type:"meta"}),o=new q["Image"]({name:"content",shape:i,style:{image:t,x:0,y:0,width:i.width,height:i.height},onclick:function(t){a.selectItem=s,t.stop()}});s.add(o),this.selectItem=s,this.mainGroup.add(s)},addTextGroup:function(t,e,a,i){var n=this;if(t){var s={width:t.length*e,height:e},o=i||[(this.original.width-s.width)/2,(this.original.height-s.height)/2],c=new q["Group"]({position:o,isMouseDown:!1,type:"text"}),r=new q["Rect"]({name:"content",shape:{x:0,y:0,width:s.width,height:s.height},style:{fill:"transparent",text:t,fontFamily:a,textFill:"#fff",fontSize:e,transformText:!0,z:1},onclick:function(t){n.selectItem=c,t.stop()}});c.add(r),this.selectItem=c,this.mainGroup.add(c)}},getBorderRect:function(t,e){var a=this,i=new q["Group"]({name:"funcGroup",position:[0,0],isMouseDown:!1}),n=new q["Rect"]({name:"border-rect",style:{fill:"transparent",stroke:"#F45B69",lineWidth:3,strokeNoScale:!0,transformText:!0},cursor:"move",shape:{x:0,y:0,width:t.width,height:t.height},onmousedown:function(t){e.isMouseDown=!0,e.mousePonit=t.event,a.activeItem=e,a.activeType="drag",t.stop(t)}.bind(this)}),s=new q["Circle"]({name:"rotate-btn",shape:{cx:t.width+8,cy:-8,r:16},cursor:"grab",style:{lineWidth:1,strokeNoScale:!0,fill:"#fff",stroke:"#333",z:2},onmousedown:function(t){e.isMouseDown=!0,e.mousePonit=t.event,e.startRot=e.rotation[0]||0,a.activeItem=e,a.activeType="rotate",t.stop(t)}.bind(this)}),o=new q["Circle"]({name:"scale-btn",shape:{cx:t.width+8,cy:t.height+8,r:16},cursor:"se-resize",style:{lineWidth:1,strokeNoScale:!0,fill:"#fff",stroke:"#333",z:2},onmousedown:function(t){e.isMouseDown=!0,e.mousePonit=t.event,e.startPonit=o.shape,a.activeItem=e,a.activeType="scale",t.stop(t)}.bind(this)});return i.add(n),i.add(s),i.add(o),i},moveItem:function(t){var e=(t.event.x-this.activeItem.mousePonit.x)/this.scale,a=(t.event.y-this.activeItem.mousePonit.y)/this.scale;this.activeItem.mousePonit=t.event,this.activeItem.attr({position:[this.activeItem.position[0]+e,this.activeItem.position[1]+a]})},scaleItem:function(t){var e=(t.event.x-this.activeItem.mousePonit.x)/this.scale,a=(t.event.y-this.activeItem.mousePonit.y)/this.scale;this.activeItem.mousePonit=t.event,this.scaleFoo(this.activeItem,e,a)},rotateItem:function(t){var e=this.activeItem.getBoundingRect(),a=e.width,i=e.height,n=(this.activeItem.position[0]+a/2)*this.scale,s=(this.activeItem.position[1]+i/2)*this.scale,o=this.activeItem.mousePonit.offsetX-this.mainGroup.position[0],c=this.activeItem.mousePonit.offsetY-this.mainGroup.position[1],r=t.event.offsetX-this.mainGroup.position[0],l=t.event.offsetY-this.mainGroup.position[1],p=Math.atan2(c-s,o-n),u=Math.atan2(l-s,r-n);p=p<=-Math.PI/2?2*Math.PI+p:p,u=u<=-Math.PI/2?2*Math.PI+u:u;var d=p-u;d=d<0?d+2*Math.PI:d,this.activeItem.attr({rotation:[d+this.activeItem.startRot],origin:[a/2,i/2]})},scaleFoo:function(t,e,a){t.eachChild((function(t){if(t instanceof q["Group"])t.eachChild((function(t){"border-rect"===t.name?t.attr({shape:{width:t.shape.width+e,height:t.shape.height+a}}):"rotate-btn"===t.name?t.attr({position:[t.position[0]+e,t.position[1]+0]}):"scale-btn"===t.name&&t.attr({position:[t.position[0]+e,t.position[1]+a]})}));else if(t instanceof q["Image"])t.attr({style:{width:t.style.width+e,height:t.style.height+a}});else if(t instanceof q["Rect"]){var i=t.style.text.length,n=t.style.fontSize;t.attr({style:{fontSize:(n*i+e)/i},shape:{width:t.shape.width+e,height:t.shape.height+a}})}}))},changeBgColor:function(t){if(this.mainGroup&&this.mainGroup.childOfName){var e=this.mainGroup.childOfName("bgRect");e&&e.attr&&(this.selectItem=null,R.$emit("activeItem",{type:"back",data:{color:t}}),e.attr({style:{fill:t}}))}},addBusListener:function(){var t=this;R.$on("change-back",(function(e){t.mainGroup&&t.mainGroup.childOfName&&t.mainGroup.childOfName("bgRect").attr({style:{fill:e.color}})})),R.$on("change-meta",(function(e){if(t.mainGroup&&t.mainGroup.childOfName){var a=t.selectItem.childOfName("content").style,i=a.width,n=a.height;t.scaleFoo(t.selectItem,e.size-i,e.size-n)}})),R.$on("change-text",(function(e){if(t.mainGroup&&t.mainGroup.childOfName){var a=t.selectItem.childOfName("content"),i=e.fontSize,n=e.text.length,s=a.shape,o=s.width,c=s.height;a.attr({style:{text:e.text,fontFamily:e.fontFamily,textFill:e.textFill}}),t.scaleFoo(t.selectItem,i*n-o,i-c)}})),R.$on("deleteItem",(function(){t.mainGroup&&t.selectItem&&(t.mainGroup.remove(t.selectItem),t.selectItem=null)}))}},mounted:function(){this.setScaleBest(),this.initZr(),this.addImgGroup(a("a5c4"),[920,550]),this.addTextGroup("请输入文字",160,""),this.addBusListener()},watch:{scale:function(t){t>2&&(this.scale=2),t<.1&&(this.scale=.1),this.mainGroupScale(t)},addData:function(t){switch(t.type){case"text":this.addTextGroup("请输入文字",160,t.data);break;case"meta":this.addImgGroup(t.data);break;case"back":this.changeBgColor(t.data);break;default:break}},selectItem:function(t,e){if(e&&e.remove&&e.remove(e.childOfName("funcGroup")),t){t.add(this.getBorderRect(t.childOfName("content").shape,t));var a={type:t.type,data:{}};if("meta"===t.type)a.data={size:t.childOfName("content").style.width};else if("text"===t.type){var i=t.childOfName("content").style;a.data={text:i.text,fontSize:i.fontSize,fontFamily:i.fontFamily,textFill:i.textFill}}R.$emit("activeItem",a)}}}},E=A,V=(a("8dda"),Object(y["a"])(E,_,I,!1,null,"1154a161",null)),W=V.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"right-operator"}},[t.eType?a("p",{staticClass:"title"},[t._v(" "+t._s(t.typeList[t.eType].label)+"编辑 ")]):t._e(),a("div",{staticClass:"form-box"},["text"===t.eType?[a("div",{staticClass:"input-box"},[a("label",{attrs:{for:"value"}},[t._v("文本内容")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.typeList[t.eType].data.text,expression:"typeList[eType].data.text"}],attrs:{type:"text",name:"value",id:"value"},domProps:{value:t.typeList[t.eType].data.text},on:{input:function(e){e.target.composing||t.$set(t.typeList[t.eType].data,"text",e.target.value)}}})]),a("div",{staticClass:"input-box"},[a("label",{attrs:{for:"fontfamily"}},[t._v("文字字体")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.typeList[t.eType].data.fontFamily,expression:"typeList[eType].data.fontFamily"}],attrs:{name:"fontfamily",id:"fontfamily"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.typeList[t.eType].data,"fontFamily",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"Monoton"}},[t._v("Monoton")]),a("option",{attrs:{value:"simhei"}},[t._v("simhei")]),a("option",{attrs:{value:"simkai"}},[t._v("simkai")]),a("option",{attrs:{value:"pang"}},[t._v("pang")]),a("option",{attrs:{value:"light"}},[t._v("light")]),a("option",{attrs:{value:"cang"}},[t._v("cang")]),a("option",{attrs:{value:"Desolator"}},[t._v("Desolator")])])]),a("div",{staticClass:"input-box"},[a("label",{attrs:{for:"fontsize"}},[t._v("文字大小")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.typeList[t.eType].data.fontSize,expression:"typeList[eType].data.fontSize"}],attrs:{type:"text",name:"fontsize",id:"fontsize"},domProps:{value:t.typeList[t.eType].data.fontSize},on:{input:function(e){e.target.composing||t.$set(t.typeList[t.eType].data,"fontSize",e.target.value)}}})]),a("div",{staticClass:"input-box"},[a("label",{attrs:{for:"color"}},[t._v("文字颜色")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.typeList[t.eType].data.textFill,expression:"typeList[eType].data.textFill"}],attrs:{type:"text",name:"color",id:"color"},domProps:{value:t.typeList[t.eType].data.textFill},on:{input:function(e){e.target.composing||t.$set(t.typeList[t.eType].data,"textFill",e.target.value)}}})])]:"meta"===t.eType?[a("div",{staticClass:"input-box"},[a("label",{attrs:{for:"metaSize"}},[t._v("素材尺寸")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.typeList[t.eType].data.size,expression:"typeList[eType].data.size"}],attrs:{type:"text",name:"metaSize",id:"metaSize"},domProps:{value:t.typeList[t.eType].data.size},on:{input:function(e){e.target.composing||t.$set(t.typeList[t.eType].data,"size",e.target.value)}}})])]:"back"===t.eType?[a("div",{staticClass:"input-box"},[a("label",{attrs:{for:"backColor"}},[t._v("背景颜色")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.typeList[t.eType].data.color,expression:"typeList[eType].data.color"}],attrs:{type:"text",name:"backColor",id:"backColor"},domProps:{value:t.typeList[t.eType].data.color},on:{input:function(e){e.target.composing||t.$set(t.typeList[t.eType].data,"color",e.target.value)}}})])]:[a("div",{staticClass:"no-data"})]],2),t.eType?[a("div",{staticClass:"confirtm-btn func-btn",on:{click:function(e){return t.confirm()}}},[t._v("确 定")]),"back"!==t.eType?a("div",{staticClass:"delete-btn func-btn",on:{click:function(e){return t.deleteItem()}}},[t._v("删除元素")]):t._e()]:t._e()],2)},X=[],Y={name:"RightOperator",data:function(){return{fontFamilyList:["Monoton","simhei","simkai","pang","light","cang","Desolator"],eType:"text",typeList:{text:{label:"文字",data:{}},meta:{label:"素材",data:{}},back:{label:"背景",data:{}}}}},created:function(){var t=this;R.$on("activeItem",(function(e){t.eType=e.type,t.typeList[e.type].data=e.data}))},methods:{confirm:function(){"text"!==this.eType||this.typeList["text"].data.text||(this.typeList["text"].data.text="请输入文字"),R.$emit("change-"+this.eType,this.typeList[this.eType].data)},deleteItem:function(){R.$emit("deleteItem"),this.eType="",this.typeList[target.type].data={}}}},H=Y,Z=(a("cfd8"),Object(y["a"])(H,J,X,!1,null,"5a49d0c2",null)),K=Z.exports,Q={name:"MainView",components:{LeftMenu:T,ImageView:W,RightOperator:K},data:function(){return{isCollapse:!0,addData:null}},methods:{getCData:function(t){this.addData=t}}},U=Q,tt=(a("5d6a"),Object(y["a"])(U,o,c,!1,null,null,null)),et=tt.exports,at=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},it=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clearfix",attrs:{id:"banner"}},[a("div",{staticClass:"logo fl"}),a("div",{staticClass:"right-buttons fl"},[a("div",{staticClass:"btn"},[a("p",{staticClass:"btn-title"},[t._v("导入")])]),a("div",{staticClass:"btn"},[a("p",{staticClass:"btn-title"},[t._v("图库")])]),a("div",{staticClass:"btn"},[a("p",{staticClass:"btn-title"},[t._v("下载")])]),a("div",{staticClass:"btn"},[a("p",{staticClass:"btn-title"},[t._v("更多")])]),a("div",{staticClass:"btn normal-btn"},[a("p",{staticClass:"iconfont btn-title undo"},[t._v("")])]),a("div",{staticClass:"btn normal-btn"},[a("p",{staticClass:"iconfont btn-title redo"},[t._v("")])]),a("div",{staticClass:"btn"},[a("p",{staticClass:"btn-title"},[a("i",{staticClass:"iconfont",staticStyle:{"font-style":"normal"}},[t._v("")]),t._v(" 保存 ")])])]),a("div",{staticClass:"left-buttons fr"},[a("div",{staticClass:"btn normal-btn"},[a("p",{staticClass:"btn-title"},[a("i",{staticClass:"iconfont",staticStyle:{"font-style":"normal"}},[t._v("")]),t._v(" 预览 ")])]),a("div",{staticClass:"btn long-btn"},[a("p",{staticClass:"btn-title"},[a("i",{staticClass:"iconfont",staticStyle:{"font-style":"normal"}},[t._v("")]),t._v(" 无水印下载 ")])])])])}],nt={name:"Banner"},st=nt,ot=(a("b92f"),Object(y["a"])(st,at,it,!1,null,null,null)),ct=ot.exports,rt={name:"App",components:{MainView:et,Banner:ct}},lt=rt,pt=(a("034f"),Object(y["a"])(lt,n,s,!1,null,null,null)),ut=pt.exports,dt=a("2f62");i["a"].use(dt["a"]);var mt=new dt["a"].Store({state:{leftCollapse:!1},mutations:{openCollapse:function(t){t.leftCollapse=!1},closeCollapse:function(t){t.leftCollapse=!0}},actions:{},modules:{}});a("be35"),a("6861"),a("712d");i["a"].config.productionTip=!1,new i["a"]({store:mt,render:function(t){return t(ut)}}).$mount("#app")},"5d6a":function(t,e,a){"use strict";a("6edd")},"60e0":function(t,e,a){t.exports=a.p+"img/zhengcai.48afea16.png"},6861:function(t,e,a){},"6edd":function(t,e,a){},"6f96":function(t,e,a){t.exports=a.p+"img/pijiu.9bde614d.png"},"712d":function(t,e,a){},"85ec":function(t,e,a){},"88b5":function(t,e,a){t.exports=a.p+"img/kaoji.46f4b9b6.png"},"8ca3":function(t,e,a){t.exports=a.p+"img/naipin.1d39b080.png"},"8dda":function(t,e,a){"use strict";a("2a62a")},9008:function(t,e,a){"use strict";a("0471")},"901b":function(t,e,a){"use strict";a("4f8f")},"984a":function(t,e,a){},a5c4:function(t,e,a){t.exports=a.p+"img/canju.24feb08a.png"},a73f:function(t,e,a){t.exports=a.p+"img/waimai.4741b76f.png"},b92f:function(t,e,a){"use strict";a("2631")},be35:function(t,e,a){},bf60:function(t,e,a){t.exports=a.p+"img/zaocan.00c9e8df.png"},c139:function(t,e,a){},cfd8:function(t,e,a){"use strict";a("ecda")},d377:function(t,e,a){"use strict";a("c139")},da87:function(t,e,a){t.exports=a.p+"img/gaodian.17beccc4.png"},ecda:function(t,e,a){},f7f0:function(t,e,a){t.exports=a.p+"img/dangao.1cba6d09.png"},faa2:function(t,e,a){t.exports=a.p+"img/zhushi.b4231091.png"},fdbe:function(t,e,a){"use strict";a("984a")},ffee:function(t,e,a){t.exports=a.p+"img/shutiao.a64e15da.png"}});
//# sourceMappingURL=app.c3ca8f8a.js.map